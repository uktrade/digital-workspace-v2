{% load wagtailimages_tags static humanize %}
{% comment %}
Supersedes profile_info as being a zero-config standard
Only requires "profile" to be set
 {% endcomment %}

<div class="dwds-profile content-item">
    <div class="content-main">
        <div id="photo-container">
            {% if profile.has_photo %}
                {% include "dwds/elements/profile_image.html" with
                    small=True
                    profile_image_url=profile.photo.url
                    name=name
                    profile_url=profile.url %}
            {% endif %}
        </div>

        <div class="content-stack">
            <h3>
                <a class="no-underline" href="{{ profile.url }}">{{ profile.full_name }}</a>
            </h3>
            <p>{{ profile.get_roles_display }}</p>
            {% if not profile.is_active %}
                <strong
                    class="govuk-tag govuk-tag--orange"
                    >Inactive</strong>
            {% endif %}
            {% if profile.get_location_summary_display %}
                {% include "dwds/icons/marker.html" with small=True %} {{
                profile.get_location_summary_display }}
            {% endif %}
            {% spaceless %}
                <a class="content-with-icon" href="mailto:{{ profile.preferred_email }}">
                    {% include "dwds/icons/email.html" with small=True %}
                </a>
                {% if profile.primary_phone_number %}
                <a class="content-with-icon" href="tel:{{ profile.primary_phone_number }}"
                    >{% include "dwds/icons/phone.html" with small=True %}</a>
                {% endif %}
            {% endspaceless %}
        </div>
    </div>
</div>
