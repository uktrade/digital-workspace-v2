{% load menu_tags waffle_tags %}
{% load render_bundle webpack_static from webpack_loader %}
{% load site_alert %}

<style>
    .dwds-header {
        /* FIXME: temp red */
        border-bottom: 4px solid red;
    }

    .dwds-navbar {
        padding-top: 1rem;
        padding-bottom: 1rem;

        input {
            width: 100%;
        }
    }

    .navbar-brand {
        display: flex;
        justify-content: space-between;
    }

    .navbar-menu {
        display: none;
    }

    .navbar-menu.is-active {
        display: block;
    }
</style>

<header class="dwds-header">
    <nav class="dwds-navbar dwds-container dwds">
        <div class="navbar-brand">
            <div>
                Intranet
            </div>
            <div>
                <button class="navbar-burger" data-target="header-nav">open</button>
            </div>
        </div>

        <div id="header-nav" class="navbar-menu">
            <div class="navbar-start">
                <ul>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                </ul>
            </div>
            <div class="navbar-end">
                <div>
                    <input type="text" placeholder="Search">
                </div>
                <span>Hi {% lorem 2 w random %}</span>
                <h3>{% lorem 2 w random %}</h3>
                <ul>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                </ul>
                <h3>{% lorem 2 w random %}</h3>
                <ul>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                </ul>
                <h3>{% lorem 2 w random %}</h3>
                <ul>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                    <li><a href="">{% lorem 2 w random %}</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Get all "navbar-burger" elements
        const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

        // Add a click event on each of them
        $navbarBurgers.forEach( el => {
            el.addEventListener('click', () => {

                // Get the target from the "data-target" attribute
                const target = el.dataset.target;
                const $target = document.getElementById(target);

                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');
            });
        });
    });
</script>
