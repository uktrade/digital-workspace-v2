{% load webpack_static from webpack_loader %}
{% load wagtailcore_tags %}
{% load search_explore %}
<div class="search-result search-result--page">
    {% if type == 'all_pages' %}
        <h3 class="govuk-heading-s">
            <span class="govuk-tag">{% score object %}</span>
            <a class="govuk-link" href="{% pageurl object %}">{{ object.title }}</a>
        </h3>
        <p class="govuk-body">{{ object.excerpt }}</p>
        <p class="govuk-body-s ws-secondary-meta">Updated: {{ object.last_published_at }}</p>
    {% elif type == 'people' %}
        <h3 class="govuk-heading-s">
            <span class="govuk-tag">{% score object %}</span>
            <a class="govuk-link" href="{% url 'profile-view' object.slug %}">{{ object.full_name }}</a>
        </h3>
        <p class="govuk-body">
            {% for role in object.roles.all %}
                {{ role.job_title }} in <a class="govuk-link" href="{% url 'team-view' role.team.slug %}">{{ role.team.name }}</a>
            {% endfor %}
        </p>
        <p class="govuk-body-s ws-secondary-meta">Profile completion: {{ object.profile_completion_amount|floatformat:"0" }}%</p>
        {% comment %}
            {% if object.photo %}
                <img src="{{ object.photo.url }}">
            {% else %}
                <img src="{% webpack_static 'no-photo-large.png' %}">
            {% endif %}
        {% endcomment %}
    {% elif type == 'teams' %}
        <h3 class="govuk-heading-s">
            <span class="govuk-tag">{% score object %}</span>
            <a class="govuk-link" href="{% url 'team-view' object.slug %}">{{ object.name }} {{ object.abbreviation }}</a>
        </h3>
        <p class="govuk-body">
            {{ object.description|truncatewords:"40" }}
        </p>
        <p class="govuk-body-s ws-secondary-meta">Roles in team: {{ object.roles_in_team }}</p>
    {% endif %}
</div>
