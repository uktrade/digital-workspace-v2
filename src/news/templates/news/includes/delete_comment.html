{% load comments %}

{% user_can_delete_comment request.user comment.id as can_delete %}
{% if can_delete %}
    <span class="separator"></span>
    <c-modal title="Delete comment" button-text="Delete" button-classes="dwds-button--link">
    <c-slot name="content">
    <h3>Are you sure you want to delete this comment?</h3>
    <form method="dialog">
        <button class="dwds-modal-close dwds-button"
                hx-post="{% url 'interactions:hide-comment' comment.id %}"
                hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                hx-target="#comments"
                hx-swap="outerHTML">Delete</button>
        <button class="dwds-modal-close dwds-button dwds-button--secondary">Cancel</button>
    </form>
    </c-slot>
    </c-modal>
{% endif %}
