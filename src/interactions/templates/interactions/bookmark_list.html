{% load static wagtailcore_tags %}

<style>
    .bookmark-list {
        display: flex;
        flex-direction: column;
        gap: var(--s-2);

        padding-left: 0;

        list-style: none;

        li {
            display: grid;
            grid-template-columns: min-content 1fr;
            gap: var(--s-4) var(--s-2);

            svg {
                grid-row: 1 / 3;
                grid-column: 1;
            }
        }
    }
</style>

{% if bookmarks %}
    <ul class="bookmark-list">
        {% for bookmark in bookmarks %}
            <li>
                {% include 'dwds/elements/icon.html' with use_id='bookmark-icon' is_filled=True %}
                <div>
                    <a href="{% pageurl bookmark.page %}">{{ bookmark.page }}</a>
                </div>
                <div>
                    <button
                        class="dwds-button dwds-button--small dwds-button--secondary"
                        hx-delete="{% url 'interactions:bookmark-remove' bookmark.pk %}"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                        hx-target="closest li"
                        hx-swap="outerHTML"
                    >Remove</button>
                </div>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <img src="{% static 'interactions/open-empty-box.webp' %}" alt="An open empty box" width="64px">
    <p>No bookmarks yet.</p>
    <p>
        {% include 'dwds/elements/icon.html' with use_id='bookmark-icon' %}
        <span>Click the bookmark icon on pages to bookmark them here</span>
    </p>
{% endif %}
