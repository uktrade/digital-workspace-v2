{% load webpack_static from webpack_loader %}

<div class="pf-person-search-result">
    <div class="pf-person-search-result__picture">
        <a href="{% url 'profile-view' person.slug %}">
            {% if person.photo %}
                <img src="{{ person.photo.url }}">
            {% else %}
                <img src="{% webpack_static 'no-photo-large.png' %}">
            {% endif %}
        </a>
    </div>
    <div class="pf-person-search-result__details">
        <div class="pf-person-search-result__details__item">
            <a class="govuk-link govuk-body govuk-!-font-weight-bold" href="{% url 'profile-view' person.slug %}">
                {{ person.full_name }}
            </a>
        </div>
        <div class="pf-person-search-result__details__item">
            <a class="govuk-link" href="{% url 'profile-view' person.slug %}">
                {% for role in person.roles.all %}
                    {{ role.job_title }} in {{ role.team.name }}<br>
                {% endfor %}
            </a>
        </div>
        <div class="pf-person-search-result__details__item">
            <a class="govuk-link" href="mailto:{{ person.preferred_email }}">
                {{ person.preferred_email }}
            </a>
        </div>
        {% if person.primary_phone_number %}
            <div class="pf-person-search-result__details__item">
                <a class="govuk-link" href="tel:{{ person.primary_phone_number }}">
                    {{ person.primary_phone_number }}
                </a>
            </div>
        {% endif %}
        {% if person.all_languages %}
            <div class="pf-person-search-result__details__item govuk-body-s">
                <strong>Languages:</strong> {{ person.all_languages }}
            </div>
        {% endif %}
        {% if person.key_skills.exists or person.other_key_skills %}
            <div class="pf-person-search-result__details__item govuk-body-s">
                <strong>Key skills:</strong> {{ person.get_all_key_skills|join:", " }}
            </div>
        {% endif %}
        {% if person.learning_interests.exists or person.other_learning_interests %}
            <div class="pf-person-search-result__details__item govuk-body-s">
                <strong>Learning and development interests:</strong> {{ person.get_all_learning_interests|join:", " }}
            </div>
        {% endif %}
    </div>
</div>
